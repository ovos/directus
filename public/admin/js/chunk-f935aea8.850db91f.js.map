{"version":3,"sources":["webpack:///./src/layouts/tabular/options.vue?8785","webpack:///src/layouts/tabular/options.vue","webpack:///./src/layouts/tabular/options.vue?9b41","webpack:///./src/layouts/tabular/options.vue","webpack:///./src/layouts/tabular/options.vue?a5c2","webpack:///./node_modules/@directus/extension-toolkit/mixins/layout.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","submit","$event","preventDefault","staticClass","_v","_s","$t","attrs","handle","end","sort","model","value","callback","$$v","sortList","expression","_l","field","key","id","label","name","checked","fieldsInUse","includes","change","toggleField","for","viewOptions","spacing","options","compact","cozy","comfortable","icon","input","setSpacing","staticRenderFns","optionsvue_type_script_lang_js_","mixins","layout_default","a","data","computed","_this","viewQuery","fields","split","filter","Object","values","primary_key","slice","map","watch","initSortList","created","methods","$emit","fieldID","toConsumableArray","splice","indexOf","push","fieldInfo","join","_this2","objectSpread","obj","_this3","concat","tabular_optionsvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_options_vue_vue_type_style_index_0_id_b98682d6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_options_vue_vue_type_style_index_0_id_b98682d6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","props","primaryKeyField","type","String","required","items","Array","default","loading","Boolean","lazyLoading","selection","link","sortField","collection"],"mappings":"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","file":"js/chunk-f935aea8.850db91f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('fieldset',[_c('legend',{staticClass:\"style-3\"},[_vm._v(_vm._s(_vm.$t(\"layouts-tabular-fields\")))]),_c('draggable',{attrs:{\"handle\":\".handle\"},on:{\"end\":_vm.sort},model:{value:(_vm.sortList),callback:function ($$v) {_vm.sortList=$$v},expression:\"sortList\"}},_vm._l((_vm.sortList),function(field){return _c('div',{key:'tabular-layout-options-field-' + field.field,staticClass:\"draggable\"},[_c('v-checkbox',{key:field.field,staticClass:\"checkbox\",attrs:{\"id\":'tabular-layout-options-field-' + field.field,\"label\":field.name,\"value\":field.field,\"checked\":_vm.fieldsInUse.includes(field.field)},on:{\"change\":function($event){return _vm.toggleField(field.field)}}}),_c('v-icon',{staticClass:\"handle\",attrs:{\"name\":\"drag_handle\"}})],1)}),0)],1),_c('label',{staticClass:\"style-3\",attrs:{\"for\":\"spacing\"}},[_vm._v(_vm._s(_vm.$t(\"spacing\")))]),_c('v-select',{staticClass:\"select\",attrs:{\"id\":\"spacing\",\"value\":_vm.viewOptions.spacing || 'comfortable',\"options\":{\n      compact: _vm.$t('compact'),\n      cozy: _vm.$t('cozy'),\n      comfortable: _vm.$t('comfortable')\n    },\"icon\":\"reorder\"},on:{\"input\":_vm.setSpacing}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent>\n    <fieldset>\n      <legend class=\"style-3\">{{ $t(\"layouts-tabular-fields\") }}</legend>\n      <draggable v-model=\"sortList\" handle=\".handle\" @end=\"sort\">\n        <div\n          v-for=\"field in sortList\"\n          :key=\"'tabular-layout-options-field-' + field.field\"\n          class=\"draggable\"\n        >\n          <v-checkbox\n            :id=\"'tabular-layout-options-field-' + field.field\"\n            :key=\"field.field\"\n            class=\"checkbox\"\n            :label=\"field.name\"\n            :value=\"field.field\"\n            :checked=\"fieldsInUse.includes(field.field)\"\n            @change=\"toggleField(field.field)\"\n          ></v-checkbox>\n          <v-icon class=\"handle\" name=\"drag_handle\" />\n        </div>\n      </draggable>\n    </fieldset>\n    <label for=\"spacing\" class=\"style-3\">{{ $t(\"spacing\") }}</label>\n    <v-select\n      id=\"spacing\"\n      :value=\"viewOptions.spacing || 'comfortable'\"\n      :options=\"{\n        compact: $t('compact'),\n        cozy: $t('cozy'),\n        comfortable: $t('comfortable')\n      }\"\n      class=\"select\"\n      icon=\"reorder\"\n      @input=\"setSpacing\"\n    ></v-select>\n  </form>\n</template>\n\n<script>\nimport mixin from \"@directus/extension-toolkit/mixins/layout\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      sortList: null\n    };\n  },\n  computed: {\n    fieldsInUse() {\n      if (!this.viewQuery || !this.viewQuery.fields)\n        return Object.values(this.fields)\n          .filter(field => field.primary_key === false)\n          .slice(0, 5)\n          .map(field => field.field);\n\n      if (this.viewQuery.fields === \"\") return [];\n\n      return this.viewQuery.fields.split(\",\").filter(field => this.fields[field]);\n    }\n  },\n  watch: {\n    fields() {\n      this.initSortList();\n    }\n  },\n  created() {\n    this.initSortList();\n  },\n  methods: {\n    setSpacing(value) {\n      this.$emit(\"options\", {\n        spacing: value\n      });\n    },\n    toggleField(fieldID) {\n      const fieldsInUse = [...this.fieldsInUse];\n\n      if (fieldsInUse.includes(fieldID)) {\n        fieldsInUse.splice(fieldsInUse.indexOf(fieldID), 1);\n      } else {\n        fieldsInUse.push(fieldID);\n      }\n\n      const fields = this.sortList\n        .map(fieldInfo => fieldInfo.field)\n        .filter(fieldID => fieldsInUse.includes(fieldID))\n        .join();\n\n      this.$emit(\"query\", {\n        fields\n      });\n    },\n    sort() {\n      this.$emit(\"query\", {\n        ...this.viewQuery,\n        fields: this.sortList\n          .map(obj => obj.field)\n          .filter(fieldID => this.fieldsInUse.includes(fieldID))\n          .join()\n      });\n    },\n    initSortList() {\n      this.sortList = [\n        ...this.fieldsInUse.map(fieldID => this.fields[fieldID]),\n        ...Object.values(this.fields).filter(\n          fieldInfo => !this.fieldsInUse.includes(fieldInfo.field)\n        )\n      ];\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\nfieldset {\n  padding: 8px 0 0 0;\n}\n\nlabel {\n  margin-bottom: 10px;\n  margin-top: 30px;\n}\n\n.draggable {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: ns-resize;\n  padding: 2px 0;\n\n  .checkbox {\n    max-width: 125px;\n    label {\n      font-size: 14px;\n    }\n  }\n\n  i {\n    color: var(--lighter-gray);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./options.vue?vue&type=template&id=b98682d6&scoped=true&\"\nimport script from \"./options.vue?vue&type=script&lang=js&\"\nexport * from \"./options.vue?vue&type=script&lang=js&\"\nimport style0 from \"./options.vue?vue&type=style&index=0&id=b98682d6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b98682d6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=b98682d6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=b98682d6&lang=scss&scoped=true&\"","module.exports = {\n  props: {\n    primaryKeyField: {\n      type: String,\n      required: true\n    },\n    fields: {\n      type: Object,\n      required: true\n    },\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    viewOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    viewQuery: {\n      type: Object,\n      default: () => ({})\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    lazyLoading: {\n      type: Boolean,\n      default: false\n    },\n    selection: {\n      type: Array,\n      default: () => []\n    },\n    link: {\n      type: String,\n      default: null\n    },\n    sortField: {\n      type: String,\n      default: null\n    },\n    collection: {\n      type: String,\n      default: null\n    }\n  }\n};\n"],"sourceRoot":""}